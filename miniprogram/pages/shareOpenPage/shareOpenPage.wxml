<!--miniprogram/pages/shareOpenPage/shareOpenPage.wxml-->
<view class="bodyContainer">
  <text class="bigTitle">{{shareName}}</text>
  <view class="fileInfoContainer">
    <view class="fileInfoView">
      <van-image wx:if="{{fileType=='image'}}" fit="cover" width="70" height="70" bindtap="previewImage"
        src="/images/icons/image.png" />
      <view class="fileInfoText">
        <view>
          <text class="titleText">文件大小 :</text>
          <text> {{fileSize}}MB</text>
        </view>
        <view style="margin-top:10px">
          <text class="titleText">文件类型 :</text>
          <text> {{fileType}}</text>
        </view>
      </view>
    </view>
  </view>


  <van-button class="submitButton" round type="primary" bindtap="downloadSharedFile" disabled="{{isButtonForbidden}}">{{buttonText}}
  </van-button>

  <image class="previewImage" width="100" height="100" src="{{filePath}}" bindtap="previewImage" />

</view>

<van-action-sheet show="{{ actionSheetShow }}" actions="{{ actions }}" bind:close="actionShwwtOnClose"
  bind:select="actionSheetOnSelect" />
<van-popup show="{{ showPasswordPop }}" bind:close="closePasswordPop" closeable="{{true}}"
  close-on-click-overlay="{{false}}">
  <van-tag type="primary">请输入密码</van-tag>
  <van-field value="{{ enter_password }}" placeholder="请输入提取密码" border="{{ false }}"
    bind:change="enterPasswordChange" />
  <van-tag type="primary" wx:if="{{is_password_false}}">密码错误<text>\n</text>剩余输入次数:{{surplus_enter_num}}</van-tag>
  <van-button type="default" bind:click="confirmEnterPassword">确认</van-button>
</van-popup>